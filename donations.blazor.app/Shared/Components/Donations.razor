<EditForm Model="@model" OnValidSubmit="OnValidSubmit">
  <DataAnnotationsValidator />
  <MudGrid Justify="Justify.Center" style="max-width:600px; border:1px solid #000000">
      <MudItem xs="12">
          <MudText class="mud-theme-primary py-4 px-6 mx-4 rounded-t-xl" Align="Align.Center">Donations</MudText>
      </MudItem>

      <MudItem xs="2">
      </MudItem>
      <MudItem xs="4">
        <MudItem>
          <MudFab Color="Color.Primary" Icon="@Icons.Material.Filled.ControlPoint" Size="Size.Large" IconSize="Size.Small" Label="R 100" Class="ma-2" 
                  @onclick="() => AddDonation(100)" />  
        </MudItem>
      </MudItem>
      <MudItem xs="4">
        <MudItem>
          <MudFab Color="Color.Primary" Icon="@Icons.Material.Filled.ControlPoint" Size="Size.Large" IconSize="Size.Small" Label="R 500" Class="ma-2" 
                  @onclick="() => AddDonation(500)" />  
        </MudItem>
      </MudItem>
      <MudItem xs="2">
      </MudItem>

      <MudItem xs="2">
      </MudItem>
      <MudItem xs="4">
        <MudItem>
          <MudFab Color="Color.Primary" Icon="@Icons.Material.Filled.ControlPoint" Size="Size.Large" IconSize="Size.Small" Label="R 250" Class="ma-2" 
                  @onclick="() => AddDonation(250)" />  
        </MudItem>
      </MudItem>
      <MudItem xs="4">
        <MudItem>
          <MudFab Color="Color.Primary" Icon="@Icons.Material.Filled.ControlPoint" Size="Size.Large" IconSize="Size.Small" Label="R1000" Class="ma-2" 
                  @onclick="() => AddDonation(1000)" />  
        </MudItem>
      </MudItem>
      <MudItem xs="2">
      </MudItem>

      <MudItem xs="2">
      </MudItem>
      <MudItem xs="8">
        <MudTextField Label="Amount" HelperText="Custom amount"
                      @bind-Value="model.Amount" For="@(() => model.Amount)"  
                      Variant="Variant.Outlined" Adornment="Adornment.Start" AdornmentText="R" />
        <br />
        <MudTextField Label="Message" HelperText="Leave an appreciation message"
                      @bind-Value="model.Message" For="@(() => model.Message)" 
                      Variant="Variant.Outlined" Text="" Lines="3" />
      </MudItem>
      <MudItem xs="2">
      </MudItem>

      <MudItem xs="5">
      </MudItem>
      <MudItem xs="3">
        <MudCardActions>
            <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled" Color="Color.Secondary" Class="d-flex align-center justify-center">DONATE</MudButton>
        </MudCardActions>
        
      </MudItem>
      <MudItem xs="4">
      </MudItem>

  </MudGrid>
</EditForm>

@code {
  bool success = false;
  Donation model = new Donation();

  public class Donation
  {
    public double? Amount { get; set; }
    public string Message { get; set; }
  }

  private void AddDonation(int amount)
  {
    model.Amount = amount;
  }

  private void OnValidSubmit(EditContext context)
  {
    success = true;
    var amount = model.Amount;
    var message = model.Message;

    

    StateHasChanged();
  }

}
